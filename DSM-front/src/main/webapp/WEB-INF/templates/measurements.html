<div class="panel-heading">
	<h3 class="panel-title">Measurements</h3>
</div>
<div class="panel-body">
	<form action="#" th:action="@{/graphs}" th:object="${graphInput}" method="post">
		<table class="table table-condensed">
			<tr>
				<th class="text-center">Resource</th>
				<th class="text-center">Metric</th>
				<th class="text-center">Unit</th>
				<th class="text-center" widht="10px">Graph</th>
				<th class="text-center" width="10px">Complex</th>
			</tr>
			<tr th:each="resource : ${resources}">
				<td><span th:text="${resource.content.resource}" /></td>
				<td><span th:text="${resource.content.metric}" /></td>
				<td><span class="measurement_data" th:attr="details-url=${resource.getLink('details').href}">-</span>
					<span th:text="${resource.content.unit}" /></td>
				<td>
					<input type="checkbox" th:field="*{detailUrls}" th:value="${resource.getLink('details').href}" />
				</td>
				<td>
					<a href="#" data-toggle="modal" data-target="#complexModal">
						<span class="glyphicon glyphicon-plus" />
					</a>
					<a href="#" ><span class="glyphicon glyphicon-remove"></span></a>
					<a href="#" ><span class="glyphicon glyphicon-search"></span></a>
				</td>
			</tr>
		</table>
		<input type="submit" class="btn btn-default" th:if="${error} == null" value="Show Graphs" />
	</form>
	<div class="alert alert-danger" th:if="${error} != null" th:text="${error}"></div>
</div>

<div tiles:include="modal-popup"></div>

<script th:src="@{/resources/js/traverson.external.min.js}" type="text/javascript"></script>
<script th:src="@{/resources/js/measurements.js}" type="text/javascript"></script>
<script th:inline="javascript" type="text/javascript">
/*<![CDATA[*/
$(document).ready(function () {
	retrieveMeasurements([[${refreshInterval}]]);
});
/*]]>*/
</script>
